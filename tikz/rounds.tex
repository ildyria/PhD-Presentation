\begin{tikzpicture}[keccak]
\draw [white] (0,0) rectangle (1.5,-6.5); %create a bounding box to reserve space
\begin{pgflowlevelscope}{\pgftransformscale{0.5}}

    \draw [black,fill=orange!10] (0,0) rectangle (0.5,1.5+0);
    \draw [black,fill=orange!10] (0.5,0) rectangle (1,1.5+0);

    \draw [black,fill=orange!10] (1.5,0) rectangle (2,1.5+0);
    \draw [black,fill=orange!10] (2,0) rectangle (2.5,1.5+0);

    %%%%%%%%%%%%%%%%%%%%

    \draw [black,fill=orange!20] (0,-2) rectangle (0.5,1.5-2);
    \draw [black,fill=orange!20] (0.5,-2) rectangle (1,1.5-2);

    \draw [black,fill=orange!20] (1.5,-2) rectangle (2,1.5-2);
    \draw [black,fill=orange!20] (2,-2) rectangle (2.5,1.5-2);

    %%%%%%%%%%%%%%%%%%%%

    \draw [black,fill=orange!40] (0,-4) rectangle (0.5,1.5-4);
    \draw [black,fill=orange!40] (0.5,-4) rectangle (1,1.5-4);

    \draw [black,fill=orange!40] (1.5,-4) rectangle (2,1.5-4);
    \draw [black,fill=orange!40] (2,-4) rectangle (2.5,1.5-4);

    \draw [<->,thick,green!60!black] (0.25,-0.25) -- (0.75,-0.25);
    \draw [<->,thick,green!60!black] (1.75,-0.25) -- (2.25,-0.25);

    % \draw [->,thick,pink] (1.05,-4) -- (1.25,-4) -- (1.25,1.5) -- (1.45,1.5);

    %%%%%%%%%%%%%%%%%%%%

    \draw [->,thick,red] (1,-4.45) -- (1.75,-4.45);
    \draw [->,thick,red] (1.5,-4.55) -- (2.25,-4.55);
    \draw [->,thick,red] (1,-4.45) -- (0.25,-4.45);
    \draw [->,thick,red] (1.5,-4.55) -- (0.75,-4.55);

    \begin{scope}[yshift=-0.5 cm,xshift=0 cm]

    \draw [black,fill=blue!20] (0,-6) rectangle (0.5,1.5-6);
    \draw [black,fill=blue!20] (0.5,-6) rectangle (1,1.5-6);

    \draw [black,fill=blue!20] (1.5,-6) rectangle (2,1.5-6);
    \draw [black,fill=blue!20] (2,-6) rectangle (2.5,1.5-6);

    %%%%%%%%%%%%%%%%%%%%

    \draw [black,fill=blue!40] (0,-8) rectangle (0.5,1.5-8);
    \draw [black,fill=blue!40] (0.5,-8) rectangle (1,1.5-8);

    \draw [black,fill=blue!40] (1.5,-8) rectangle (2,1.5-8);
    \draw [black,fill=blue!40] (2,-8) rectangle (2.5,1.5-8);

    %%%%%%%%%%%%%%%%%%%%

    \draw [black,fill=purple!40] (0,-10) rectangle (0.5,1.5-10);
    \draw [black,fill=purple!40] (0.5,-10) rectangle (1,1.5-10);

    \draw [black,fill=purple!40] (1.5,-10) rectangle (2,1.5-10);
    \draw [black,fill=purple!40] (2,-10) rectangle (2.5,1.5-10);

    %%%%%%%%%%%%%%%%%%%%

    \draw [black,fill=red!40] (0,-12) rectangle (0.5,1.5-12);
    \draw [black,fill=red!40] (0.5,-12) rectangle (1,1.5-12);

    \draw [black,fill=red!40] (1.5,-12) rectangle (2,1.5-12);
    \draw [black,fill=red!40] (2,-12) rectangle (2.5,1.5-12);

    \draw [<->,thick,green!60!black] (0.25,-8.25) -- (0.75,-8.25);
    \draw [<->,thick,green!60!black] (1.75,-8.25) -- (2.25,-8.25);

    % \draw [->,thick,pink] (1.45,-12) -- (1.25,-12) -- (1.25,-4.5) -- (1.05,-4.5);

    \draw [->,thick,red] (1,-12.20) -- (1.75,-12.20);
    \draw [->,thick,red] (1.5,-12.30) -- (2.25,-12.30);
    \draw [->,thick,red] (1,-12.20) -- (0.25,-12.20);
    \draw [->,thick,red] (1.5,-12.30) -- (0.75,-12.30);


    \draw (1.25,-12.5) node[minimum width=0.5cm] {$\ldots$};

    \foreach \x in {4,5,6,7} {
        \pgfmathsetmacro\r{25 - \x}
        \draw (-0.5,2.75-2*\x) node[anchor=east] {\huge{Round \pgfmathprintnumber{\r}}};
    };

    \end{scope}

    \draw (4,1) node[anchor=north west, align=left, minimum width=5 cm] {
    \huge{Non-linear layer}\\
    \\
    \\
    \huge{\textcolor{green!60!black}{Small Swap} \& Round constant addition}\\
    % \huge{$\oplus$ \texttt{0x93e77900} $\oplus\ 24$}\\
    \\
    \\
    \huge{Non-linear layer}\\
    \\
    \\
    \huge{Non-linear layer}\\
    \\
    \\
    \huge{\textcolor{red}{Big Swap}}\\
    \\
    \\
    \huge{Non-linear layer}\\
    \\
    \\
    \huge{Non-linear layer}\\
    \\
    \\
    \huge{\textcolor{green!60!black}{Small Swap} \& Round constant addition}\\
    % \huge{$\oplus$ \texttt{0x93e779} $\oplus\ 18$}\\
    \\
    \\
    \huge{Non-linear layer}\\
    \\
    \\
    \huge{Non-linear layer}\\
    \\
    \\
    \huge{\textcolor{red}{Big Swap}}\\
    \huge{$\ldots$}
    };

    \foreach \x in {1,2,3} {
        \pgfmathsetmacro\r{25 - \x}
        \draw (-0.5,2.75-2*\x) node[anchor=east] {\huge{Round \pgfmathprintnumber{\r}}};
    };

\end{pgflowlevelscope}

\end{tikzpicture}